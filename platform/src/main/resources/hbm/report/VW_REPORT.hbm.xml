<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
  <class entity-name="VwReport" table="VW_REPORT">
    <cache usage="read-write" />
    <comment>报表明细视图模块</comment>

    <id name="viewKey" type="java.lang.String">
      <column name="VIEW_KEY" length="100" not-null="true">
        <comment>主键KEY</comment>
      </column>
    </id>

    <property name="busiName" type="java.lang.String">
      <column name="BUSI_NAME" length="200" not-null="true">
        <comment>展示名</comment>
      </column>
    </property>

    <!--js脚本 -->
    <property name="listJsType" type="java.lang.Integer">
      <column name="LIST_JS_TYPE" length="8">
        <comment>客户端脚本类型</comment>
      </column>
    </property>
    <property name="listJsScript" type="text">
      <column name="LIST_JS_SCRIPT">
        <comment>客户端脚本</comment>
      </column>
    </property>

    <property name="mainSqlType" type="java.lang.Integer">
      <column name="MAIN_SQL_TYPE" length="8" not-null="true">
        <comment>主SQL语句(脚本类型)</comment>
      </column>
    </property>
    <property name="mainSqlScript" type="text">
      <column name="MAIN_SQL_SCRIPT" not-null="true">
        <comment>主SQL语句</comment>
      </column>
    </property>

    <property name="pkType" type="java.lang.Integer">
      <column name="PK_TYPE" length="8">
        <comment>唯一键传值(脚本类型)</comment>
      </column>
    </property>
    <property name="pkScript" type="text">
      <column name="PK_SCRIPT">
        <comment>唯一键传值</comment>
      </column>
    </property>
    <property name="pkSqlType" type="java.lang.Integer">
      <column name="PK_SQL_TYPE" length="8">
        <comment>唯一键SQL(脚本类型)</comment>
      </column>
    </property>
    <property name="pkSqlScript" type="text">
      <column name="PK_SQL_SCRIPT">
        <comment>唯一键SQL</comment>
      </column>
    </property>

    <property name="orderBy" type="java.lang.String">
      <column name="ORDER_BY" length="200">
        <comment>排序语句</comment>
      </column>
    </property>

    <property name="col" type="java.lang.Integer">
      <column name="COL" length="8" not-null="true">
        <comment>分列数量</comment>
      </column>
    </property>

    <property name="initQuery" type="java.lang.Integer">
      <column name="INIT_QUERY" length="8" not-null="true">
        <comment>初始化查询</comment>
      </column>
    </property>

    <property name="sort" type="java.lang.Integer">
      <column name="SORT" length="8" not-null="true" default="0">
        <comment>默认标签排序</comment>
      </column>
    </property>

    <property name="pageFlag" type="java.lang.Integer">
      <column name="PAGE_FLAG" length="8" not-null="true">
        <comment>是否分页</comment>
      </column>
    </property>

    <property name="pageLimit" type="java.lang.Integer">
      <column name="PAGE_LIMIT" length="8" not-null="false">
        <comment>每页数量</comment>
      </column>
    </property>

    <property name="summaryFlag" type="java.lang.Integer">
      <column name="SUMMARY_FLAG" length="8" not-null="true">
        <comment>是否展示汇集行</comment>
      </column>
    </property>

    <set name="querys" inverse="true" cascade="delete" lazy="false" order-by="sort asc">
      <cache usage="read-write" />
      <comment>查询条件列表</comment>
      <key>
        <column name="VIEW_KEY" />
      </key>
      <one-to-many entity-name="VwReportQuery" />
    </set>

    <set name="showColumns" inverse="true" cascade="delete" lazy="false" order-by="sort asc">
      <cache usage="read-write" />
      <comment>展示类字段列表</comment>
      <key>
        <column name="VIEW_KEY" />
      </key>
      <one-to-many entity-name="VwReportColumnShow" />
    </set>

    <set name="lineColumns" inverse="true" cascade="delete" lazy="false" order-by="sort asc">
      <cache usage="read-write" />
      <comment>分割线字段列表</comment>
      <key>
        <column name="VIEW_KEY" />
      </key>
      <one-to-many entity-name="VwReportColumnLine" />
    </set>

    <set name="limits" inverse="true" cascade="delete" lazy="false" order-by="sort asc">
      <cache usage="read-write" />
      <comment>数据约束列表</comment>
      <key>
        <column name="VIEW_KEY" />
      </key>
      <one-to-many entity-name="VwReportLimit" />
    </set>

    <set name="sysBtns" inverse="true" cascade="delete" lazy="false" order-by="sort asc">
      <cache usage="read-write" />
      <comment>系统内置按钮</comment>
      <key>
        <column name="VIEW_KEY" />
      </key>
      <one-to-many entity-name="VwReportBtnSys" />
    </set>

    <set name="itemBtns" inverse="true" cascade="delete" lazy="false" order-by="sort asc">
      <cache usage="read-write" />
      <comment>明细按钮</comment>
      <key>
        <column name="VIEW_KEY" />
      </key>
      <one-to-many entity-name="VwReportBtnItem" />
    </set>

    <set name="summaryBtns" inverse="true" cascade="delete" lazy="false" order-by="sort asc">
      <cache usage="read-write" />
      <comment>汇总按钮</comment>
      <key>
        <column name="VIEW_KEY" />
      </key>
      <one-to-many entity-name="VwReportBtnSummary" />
    </set>

    <set name="viewSubs" inverse="true" cascade="delete" lazy="false" order-by="sort asc">
      <cache usage="read-write" />
      <comment>视图子表标签</comment>
      <key>
        <column name="VIEW_KEY" />
      </key>
      <one-to-many entity-name="VwReportSubView" />
    </set>

    <set name="prepareExecs" inverse="true" cascade="delete" lazy="false" order-by="sort asc">
      <cache usage="read-write" />
      <comment>展示变量列表</comment>
      <key>
        <column name="VIEW_KEY" />
      </key>
      <one-to-many entity-name="VwReportExecPrepare" />
    </set>

    <!-- 微信设置 -->
    <one-to-one name="weixin" entity-name="VwReportWeixin" cascade="delete" lazy="false">
    </one-to-one>

    <property name="description" type="java.lang.String">
      <column name="DESCRIPTION" length="500">
        <comment>描述</comment>
      </column>
    </property>

    <property name="dbKey" type="java.lang.String">
      <column name="DB_KEY" length="100">
        <comment>使用数据源</comment>
      </column>
    </property>

  </class>
</hibernate-mapping>
