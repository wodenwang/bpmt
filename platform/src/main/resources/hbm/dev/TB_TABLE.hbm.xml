<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
  <class name="com.riversoft.platform.po.TbTable" table="TB_TABLE">
    <cache usage="read-write" />
    <comment>动态表配置</comment>

    <id name="name" type="java.lang.String">
      <column name="NAME" length="100" not-null="true">
        <comment>表名</comment>
      </column>
    </id>

    <property name="lockFlag" type="java.lang.Integer">
      <column name="LOCK_FLAG" length="8" not-null="true" default="0">
        <comment>是否锁定(锁定则无法编辑)</comment>
      </column>
    </property>

    <property name="cacheFlag" type="java.lang.Integer">
      <column name="CACHE_FLAG" length="8" not-null="true" default="0">
        <comment>是否使用缓存</comment>
      </column>
    </property>

    <property name="description" type="java.lang.String">
      <column name="DESCRIPTION" length="500">
        <comment>描述</comment>
      </column>
    </property>

    <set name="tbColumns" inverse="true" cascade="all" lazy="false" order-by="sort asc">
      <cache usage="read-write" />
      <comment>字段列表</comment>
      <key>
        <column name="TABLE_NAME" />
      </key>
      <one-to-many class="com.riversoft.platform.po.TbColumn" not-found="exception" />
    </set>

    <set name="tbIndexes" inverse="true" cascade="all" lazy="false">
      <cache usage="read-write" />
      <comment>索引列表</comment>
      <key>
        <column name="TABLE_NAME" />
      </key>
      <one-to-many class="com.riversoft.platform.po.TbIndex"/>
    </set>

    <property name="updateDate" type="java.util.Date">
      <column name="UPDATE_DATE" length="23" not-null="true">
        <comment>更新时间</comment>
      </column>
    </property>

    <property name="createDate" type="java.util.Date">
      <column name="CREATE_DATE" length="23" not-null="true">
        <comment>创建时间</comment>
      </column>
    </property>

    <property name="createUid" type="java.lang.String">
      <column name="CREATE_UID" length="100" not-null="true">
        <comment>创建人</comment>
      </column>
    </property>

  </class>
</hibernate-mapping>
