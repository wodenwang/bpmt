<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
  <class entity-name="VwViewer" table="VW_VIEWER">
    <cache usage="read-write" />
    <comment>Viewer视图-文件模板展示</comment>
    <id name="viewKey" type="java.lang.String">
      <column name="VIEW_KEY" length="100" not-null="true">
        <comment>主键KEY</comment>
      </column>
    </id>

    <property name="busiName" type="java.lang.String">
      <column name="BUSI_NAME" length="200" not-null="true">
        <comment>展示名</comment>
      </column>
    </property>

    <property name="resultType" type="java.lang.Integer">
      <column name="RESULT_TYPE" length="8" not-null="true">
        <comment>输出结果类型(1:ftl,2:excel,3:pdf)</comment>
      </column>
    </property>

    <!-- 保存字节流,符合filemanager规范 -->
    <!-- 文件最大10M -->
    <property name="templateFile" type="byte[]">
      <column name="TEMPLATE_FILE" length="10485760">
        <comment>模板文件</comment>
      </column>
    </property>

    <property name="fileType" type="java.lang.Integer">
      <column name="FILE_TYPE" length="8">
        <comment>下载类型</comment>
      </column>
    </property>

    <property name="fileScript" type="text">
      <column name="FILE_SCRIPT">
        <comment>下载内容</comment>
      </column>
    </property>

    <property name="textType" type="java.lang.Integer">
      <column name="TEXT_TYPE" length="8">
        <comment>文本类型</comment>
      </column>
    </property>

    <property name="textScript" type="text">
      <column name="TEXT_SCRIPT">
        <comment>文本内容</comment>
      </column>
    </property>

    <property name="msgType" type="java.lang.Integer">
      <column name="MSG_TYPE" length="8">
        <comment>消息类型</comment>
      </column>
    </property>

    <property name="msgScript" type="text">
      <column name="MSG_SCRIPT">
        <comment>消息内容</comment>
      </column>
    </property>

    <property name="urlType" type="java.lang.Integer">
      <column name="URL_TYPE" length="8">
        <comment>跳转网址类型</comment>
      </column>
    </property>

    <property name="urlScript" type="text">
      <column name="URL_SCRIPT">
        <comment>跳转网址内容</comment>
      </column>
    </property>

    <set name="vars" inverse="true" cascade="delete" lazy="false" order-by="sort asc">
      <cache usage="read-write" />
      <comment>展示变量</comment>
      <key>
        <column name="VIEW_KEY" />
      </key>
      <one-to-many entity-name="VwViewerVar" />
    </set>

    <property name="createDate" type="java.util.Date">
      <column name="CREATE_DATE" length="23" not-null="true">
        <comment>创建时间</comment>
      </column>
    </property>

    <property name="updateDate" type="java.util.Date">
      <column name="UPDATE_DATE" length="23" not-null="true">
        <comment>更新时间</comment>
      </column>
    </property>

    <property name="tempFileType" type="java.lang.Integer">
      <column name="TEMP_FILE_TYPE" length="11" default="0">
        <comment>模板类型(0:模板文件,1:模板文件路径;默认0)</comment>
      </column>
    </property>

    <property name="tempFilePath" type="java.lang.String">
      <column name="TEMP_FILE_PATH" length="200">
        <comment>模板文件路径</comment>
      </column>
    </property>

  </class>

  <!-- 变量 -->
  <class entity-name="VwViewerVar" table="VW_VIEWER_VAR">
    <cache usage="read-write" />
    <comment>展示变量</comment>

    <id name="id" type="java.lang.Long">
      <column name="ID" length="12" not-null="true">
        <comment>自动主键</comment>
      </column>
      <generator class="increment"></generator>
    </id>

    <property name="viewKey" type="java.lang.String">
      <column name="VIEW_KEY" length="100" not-null="true">
        <comment>主键KEY</comment>
      </column>
    </property>

    <property name="execType" type="java.lang.Integer">
      <column name="EXEC_TYPE" length="8" not-null="true">
        <comment>脚本类型</comment>
      </column>
    </property>

    <property name="execScript" type="text">
      <column name="EXEC_SCRIPT" not-null="true">
        <comment>脚本</comment>
      </column>
    </property>

    <property name="description" type="java.lang.String">
      <column name="DESCRIPTION" length="500">
        <comment>描述</comment>
      </column>
    </property>

    <property name="var" type="java.lang.String">
      <column name="VAR" length="100" not-null="true">
        <comment>变量(别名)</comment>
      </column>
    </property>

    <property name="sort" type="java.lang.Integer">
      <column name="SORT" length="8" not-null="true">
        <comment>排序</comment>
      </column>
    </property>

  </class>

</hibernate-mapping>
